!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports,require("@angular/core"),require("rxjs/operators"),require("@angular/common/http"),require("@angular/forms"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","rxjs/operators","@angular/common/http","@angular/forms","@angular/common"],factory):factory(((global=global||self).ng2=global.ng2||{},global.ng2.completer={}),global.ng.core,global.Rx.Observable.prototype,global.ng.common.http,global.ng.forms,global.ng.common)}(this,function(exports,core,operators,http,forms,common){"use strict";var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(d,b){d.__proto__=b}:function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])}))(d,b)};function __extends(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}function __values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return{value:(o=o&&i>=o.length?void 0:o)&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||0<n--)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function __spreadArray(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||((ar=ar||Array.prototype.slice.call(from,0,i))[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))}function isFunction(value){return"function"==typeof value}function createErrorClass(createImpl){createImpl=createImpl(function(instance){Error.call(instance),instance.stack=(new Error).stack});return createImpl.prototype=Object.create(Error.prototype),createImpl.prototype.constructor=createImpl}var UnsubscriptionError=createErrorClass(function(_super){return function(errors){_super(this),this.message=errors?errors.length+" errors occurred during unsubscription:\n"+errors.map(function(err,i){return i+1+") "+err.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=errors}});function arrRemove(arr,item){arr&&0<=(item=arr.indexOf(item))&&arr.splice(item,1)}var Subscription=function(){function Subscription(initialTeardown){this.initialTeardown=initialTeardown,this.closed=!1,this._parentage=null,this._finalizers=null}var empty;return Subscription.prototype.unsubscribe=function(){var e_2,_b,errors;if(!this.closed){this.closed=!0;var _parentage=this._parentage;if(_parentage)if(this._parentage=null,Array.isArray(_parentage))try{for(var _parentage_1=__values(_parentage),_parentage_1_1=_parentage_1.next();!_parentage_1_1.done;_parentage_1_1=_parentage_1.next())_parentage_1_1.value.remove(this)}catch(e_1_1){e_1={error:e_1_1}}finally{try{_parentage_1_1&&!_parentage_1_1.done&&(_a=_parentage_1.return)&&_a.call(_parentage_1)}finally{if(e_1)throw e_1.error}}else _parentage.remove(this);var _a=this.initialTeardown;if(isFunction(_a))try{_a()}catch(e){errors=e instanceof UnsubscriptionError?e.errors:[e]}var e_1=this._finalizers;if(e_1){this._finalizers=null;try{for(var _finalizers_1=__values(e_1),_finalizers_1_1=_finalizers_1.next();!_finalizers_1_1.done;_finalizers_1_1=_finalizers_1.next()){var finalizer=_finalizers_1_1.value;try{execFinalizer(finalizer)}catch(err){errors=null!=errors?errors:[],err instanceof UnsubscriptionError?errors=__spreadArray(__spreadArray([],__read(errors)),__read(err.errors)):errors.push(err)}}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_finalizers_1_1&&!_finalizers_1_1.done&&(_b=_finalizers_1.return)&&_b.call(_finalizers_1)}finally{if(e_2)throw e_2.error}}}if(errors)throw new UnsubscriptionError(errors)}},Subscription.prototype.add=function(teardown){var _a;if(teardown&&teardown!==this)if(this.closed)execFinalizer(teardown);else{if(teardown instanceof Subscription){if(teardown.closed||teardown._hasParent(this))return;teardown._addParent(this)}(this._finalizers=null!=(_a=this._finalizers)?_a:[]).push(teardown)}},Subscription.prototype._hasParent=function(parent){var _parentage=this._parentage;return _parentage===parent||Array.isArray(_parentage)&&_parentage.includes(parent)},Subscription.prototype._addParent=function(parent){var _parentage=this._parentage;this._parentage=Array.isArray(_parentage)?(_parentage.push(parent),_parentage):_parentage?[_parentage,parent]:parent},Subscription.prototype._removeParent=function(parent){var _parentage=this._parentage;_parentage===parent?this._parentage=null:Array.isArray(_parentage)&&arrRemove(_parentage,parent)},Subscription.prototype.remove=function(teardown){var _finalizers=this._finalizers;_finalizers&&arrRemove(_finalizers,teardown),teardown instanceof Subscription&&teardown._removeParent(this)},Subscription.EMPTY=((empty=new Subscription).closed=!0,empty),Subscription}(),EMPTY_SUBSCRIPTION=Subscription.EMPTY;function isSubscription(value){return value instanceof Subscription||value&&"closed"in value&&isFunction(value.remove)&&isFunction(value.add)&&isFunction(value.unsubscribe)}function execFinalizer(finalizer){isFunction(finalizer)?finalizer():finalizer.unsubscribe()}var config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},timeoutProvider={setTimeout:function(handler,timeout){for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];var delegate=timeoutProvider.delegate;return null!=delegate&&delegate.setTimeout?delegate.setTimeout.apply(delegate,__spreadArray([handler,timeout],__read(args))):setTimeout.apply(void 0,__spreadArray([handler,timeout],__read(args)))},clearTimeout:function(handle){var delegate=timeoutProvider.delegate;return((null==delegate?void 0:delegate.clearTimeout)||clearTimeout)(handle)},delegate:void 0};function noop(){}var Subscriber=function(_super){function Subscriber(destination){var _this=_super.call(this)||this;return _this.isStopped=!1,destination?isSubscription(_this.destination=destination)&&destination.add(_this):_this.destination=EMPTY_OBSERVER,_this}return __extends(Subscriber,_super),Subscriber.create=function(next,error,complete){return new SafeSubscriber(next,error,complete)},Subscriber.prototype.next=function(value){this.isStopped||this._next(value)},Subscriber.prototype.error=function(err){this.isStopped||(this.isStopped=!0,this._error(err))},Subscriber.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},Subscriber.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,_super.prototype.unsubscribe.call(this),this.destination=null)},Subscriber.prototype._next=function(value){this.destination.next(value)},Subscriber.prototype._error=function(err){try{this.destination.error(err)}finally{this.unsubscribe()}},Subscriber.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},Subscriber}(Subscription),_bind=Function.prototype.bind;function bind(fn,thisArg){return _bind.call(fn,thisArg)}var ConsumerObserver=function(){function ConsumerObserver(partialObserver){this.partialObserver=partialObserver}return ConsumerObserver.prototype.next=function(value){var partialObserver=this.partialObserver;if(partialObserver.next)try{partialObserver.next(value)}catch(error){handleUnhandledError(error)}},ConsumerObserver.prototype.error=function(err){var partialObserver=this.partialObserver;if(partialObserver.error)try{partialObserver.error(err)}catch(error){handleUnhandledError(error)}else handleUnhandledError(err)},ConsumerObserver.prototype.complete=function(){var partialObserver=this.partialObserver;if(partialObserver.complete)try{partialObserver.complete()}catch(error){handleUnhandledError(error)}},ConsumerObserver}(),SafeSubscriber=function(_super){function SafeSubscriber(observerOrNext,error,complete){var _this=_super.call(this)||this;return complete=isFunction(observerOrNext)||!observerOrNext?{next:null!=observerOrNext?observerOrNext:void 0,error:null!=error?error:void 0,complete:null!=complete?complete:void 0}:_this&&config.useDeprecatedNextContext?((error=Object.create(observerOrNext)).unsubscribe=function(){return _this.unsubscribe()},{next:observerOrNext.next&&bind(observerOrNext.next,error),error:observerOrNext.error&&bind(observerOrNext.error,error),complete:observerOrNext.complete&&bind(observerOrNext.complete,error)}):observerOrNext,_this.destination=new ConsumerObserver(complete),_this}return __extends(SafeSubscriber,_super),SafeSubscriber}(Subscriber);function handleUnhandledError(error){var err;err=error,timeoutProvider.setTimeout(function(){throw err})}var EMPTY_OBSERVER={closed:!0,next:noop,error:function(err){throw err},complete:noop},observable="function"==typeof Symbol&&Symbol.observable||"@@observable";function identity(x){return x}var Observable=function(){function Observable(subscribe){subscribe&&(this._subscribe=subscribe)}return Observable.prototype.lift=function(operator){var observable=new Observable;return observable.source=this,observable.operator=operator,observable},Observable.prototype.subscribe=function(observerOrNext,error,complete){var _this=this,value=(value=observerOrNext)&&value instanceof Subscriber||function(value){return value&&isFunction(value.next)&&isFunction(value.error)&&isFunction(value.complete)}(value)&&isSubscription(value)?observerOrNext:new SafeSubscriber(observerOrNext,error,complete);return observerOrNext=_this.operator,error=_this.source,value.add(observerOrNext?observerOrNext.call(value,error):error?_this._subscribe(value):_this._trySubscribe(value)),value},Observable.prototype._trySubscribe=function(sink){try{return this._subscribe(sink)}catch(err){sink.error(err)}},Observable.prototype.forEach=function(next,promiseCtor){var _this=this;return new(promiseCtor=getPromiseCtor(promiseCtor))(function(resolve,reject){var subscriber=new SafeSubscriber({next:function(value){try{next(value)}catch(err){reject(err),subscriber.unsubscribe()}},error:reject,complete:resolve});_this.subscribe(subscriber)})},Observable.prototype._subscribe=function(subscriber){var _a;return null==(_a=this.source)?void 0:_a.subscribe(subscriber)},Observable.prototype[observable]=function(){return this},Observable.prototype.pipe=function(){for(var fns,operations=[],_i=0;_i<arguments.length;_i++)operations[_i]=arguments[_i];return(0===(fns=operations).length?identity:1===fns.length?fns[0]:function(input){return fns.reduce(function(prev,fn){return fn(prev)},input)})(this)},Observable.prototype.toPromise=function(promiseCtor){var _this=this;return new(promiseCtor=getPromiseCtor(promiseCtor))(function(resolve,reject){var value;_this.subscribe(function(x){return value=x},function(err){return reject(err)},function(){return resolve(value)})})},Observable.create=function(subscribe){return new Observable(subscribe)},Observable}();function getPromiseCtor(promiseCtor){return null!=(promiseCtor=null!=promiseCtor?promiseCtor:config.Promise)?promiseCtor:Promise}var ObjectUnsubscribedError=createErrorClass(function(_super){return function(){_super(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Subject=function(_super){function Subject(){var _this=_super.call(this)||this;return _this.closed=!1,_this.currentObservers=null,_this.observers=[],_this.isStopped=!1,_this.hasError=!1,_this.thrownError=null,_this}return __extends(Subject,_super),Subject.prototype.lift=function(operator){var subject=new AnonymousSubject(this,this);return subject.operator=operator,subject},Subject.prototype._throwIfClosed=function(){if(this.closed)throw new ObjectUnsubscribedError},Subject.prototype.next=function(value){var e_1,_a,_this=this;if(_this._throwIfClosed(),!_this.isStopped){_this.currentObservers||(_this.currentObservers=Array.from(_this.observers));try{for(var _b=__values(_this.currentObservers),_c=_b.next();!_c.done;_c=_b.next())_c.value.next(value)}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}}},Subject.prototype.error=function(err){var _this=this;if(_this._throwIfClosed(),!_this.isStopped){_this.hasError=_this.isStopped=!0,_this.thrownError=err;for(var observers=_this.observers;observers.length;)observers.shift().error(err)}},Subject.prototype.complete=function(){var _this=this;if(_this._throwIfClosed(),!_this.isStopped){_this.isStopped=!0;for(var observers=_this.observers;observers.length;)observers.shift().complete()}},Subject.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(Subject.prototype,"observed",{get:function(){var _a;return 0<(null==(_a=this.observers)?void 0:_a.length)},enumerable:!1,configurable:!0}),Subject.prototype._trySubscribe=function(subscriber){return this._throwIfClosed(),_super.prototype._trySubscribe.call(this,subscriber)},Subject.prototype._subscribe=function(subscriber){return this._throwIfClosed(),this._checkFinalizedStatuses(subscriber),this._innerSubscribe(subscriber)},Subject.prototype._innerSubscribe=function(subscriber){var _this=this,hasError=this.hasError,isStopped=this.isStopped,observers=this.observers;return hasError||isStopped?EMPTY_SUBSCRIPTION:(this.currentObservers=null,observers.push(subscriber),new Subscription(function(){_this.currentObservers=null,arrRemove(observers,subscriber)}))},Subject.prototype._checkFinalizedStatuses=function(subscriber){var hasError=this.hasError,thrownError=this.thrownError,isStopped=this.isStopped;hasError?subscriber.error(thrownError):isStopped&&subscriber.complete()},Subject.prototype.asObservable=function(){var observable=new Observable;return observable.source=this,observable},Subject.create=function(destination,source){return new AnonymousSubject(destination,source)},Subject}(Observable),AnonymousSubject=function(_super){function AnonymousSubject(destination,source){var _this=_super.call(this)||this;return _this.destination=destination,_this.source=source,_this}return __extends(AnonymousSubject,_super),AnonymousSubject.prototype.next=function(value){var _a,_b;null!=(_b=null==(_a=this.destination)?void 0:_a.next)&&_b.call(_a,value)},AnonymousSubject.prototype.error=function(err){var _a,_b;null!=(_b=null==(_a=this.destination)?void 0:_a.error)&&_b.call(_a,err)},AnonymousSubject.prototype.complete=function(){var _a,_b;null!=(_b=null==(_a=this.destination)?void 0:_a.complete)&&_b.call(_a)},AnonymousSubject.prototype._subscribe=function(subscriber){var _a;return null!=(_a=null==(_a=this.source)?void 0:_a.subscribe(subscriber))?_a:EMPTY_SUBSCRIPTION},AnonymousSubject}(Subject),dateTimestampProvider_now=function(){return Date.now()},Action=function(_super){function Action(scheduler,work){return _super.call(this)||this}return __extends(Action,_super),Action.prototype.schedule=function(state,delay){return this},Action}(Subscription),intervalProvider={setInterval:function(handler,timeout){for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];var delegate=intervalProvider.delegate;return null!=delegate&&delegate.setInterval?delegate.setInterval.apply(delegate,__spreadArray([handler,timeout],__read(args))):setInterval.apply(void 0,__spreadArray([handler,timeout],__read(args)))},clearInterval:function(handle){var delegate=intervalProvider.delegate;return((null==delegate?void 0:delegate.clearInterval)||clearInterval)(handle)},delegate:void 0},Action=function(_super){function AsyncAction(scheduler,work){var _this=_super.call(this,scheduler,work)||this;return _this.scheduler=scheduler,_this.work=work,_this.pending=!1,_this}return __extends(AsyncAction,_super),AsyncAction.prototype.schedule=function(state,delay){var scheduler;return void 0===delay&&(delay=0),this.closed||(this.state=state,state=this.id,scheduler=this.scheduler,null!=state&&(this.id=this.recycleAsyncId(scheduler,state,delay)),this.pending=!0,this.delay=delay,this.id=null!=(state=this.id)?state:this.requestAsyncId(scheduler,this.id,delay)),this},AsyncAction.prototype.requestAsyncId=function(scheduler,_id,delay){return void 0===delay&&(delay=0),intervalProvider.setInterval(scheduler.flush.bind(scheduler,this),delay)},AsyncAction.prototype.recycleAsyncId=function(_scheduler,id,delay){if(null!=(delay=void 0===delay?0:delay)&&this.delay===delay&&!1===this.pending)return id;null!=id&&intervalProvider.clearInterval(id)},AsyncAction.prototype.execute=function(state,delay){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;state=this._execute(state,delay);if(state)return state;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},AsyncAction.prototype._execute=function(state,_delay){var errorValue,errored=!1;try{this.work(state)}catch(e){errored=!0,errorValue=e||new Error("Scheduled action threw falsy error")}if(errored)return this.unsubscribe(),errorValue},AsyncAction.prototype.unsubscribe=function(){var id,scheduler,actions;this.closed||(id=this.id,actions=(scheduler=this.scheduler).actions,this.work=this.state=this.scheduler=null,this.pending=!1,arrRemove(actions,this),null!=id&&(this.id=this.recycleAsyncId(scheduler,id,null)),this.delay=null,_super.prototype.unsubscribe.call(this))},AsyncAction}(Action),Scheduler=function(){function Scheduler(schedulerActionCtor,now){void 0===now&&(now=Scheduler.now),this.schedulerActionCtor=schedulerActionCtor,this.now=now}return Scheduler.prototype.schedule=function(work,delay,state){return void 0===delay&&(delay=0),new this.schedulerActionCtor(this,work).schedule(state,delay)},Scheduler.now=dateTimestampProvider_now,Scheduler}(),async=new(function(_super){function AsyncScheduler(SchedulerAction,now){void 0===now&&(now=Scheduler.now);SchedulerAction=_super.call(this,SchedulerAction,now)||this;return SchedulerAction.actions=[],SchedulerAction._active=!1,SchedulerAction}return __extends(AsyncScheduler,_super),AsyncScheduler.prototype.flush=function(action){var error,actions=this.actions;if(this._active)actions.push(action);else{this._active=!0;do{if(error=action.execute(action.state,action.delay))break}while(action=actions.shift());if(this._active=!1,error){for(;action=actions.shift();)action.unsubscribe();throw error}}},AsyncScheduler}(Scheduler))(Action);function timer(dueTime,intervalOrScheduler,scheduler){void 0===dueTime&&(dueTime=0),void 0===scheduler&&(scheduler=async);var value,intervalDuration=-1;return null!=intervalOrScheduler&&((value=intervalOrScheduler)&&isFunction(value.schedule)?scheduler=intervalOrScheduler:intervalDuration=intervalOrScheduler),new Observable(function(subscriber){var value=(value=dueTime)instanceof Date&&!isNaN(value)?+dueTime-scheduler.now():dueTime,n=0;return scheduler.schedule(function(){subscriber.closed||(subscriber.next(n++),0<=intervalDuration?this.schedule(void 0,intervalDuration):subscriber.complete())},value=value<0?0:value)})}
/**
     * @license ng2-completer
     * MIT license
     */function isNil(value){return null==value}var Action=function(_super){function CompleterBaseData(){var _this=_super.call(this)||this;return _this._searchFields=null,_this._titleField=null,_this._descriptionField=void 0,_this._imageField=void 0,_this}return __extends(CompleterBaseData,_super),CompleterBaseData.prototype.cancel=function(){},CompleterBaseData.prototype.searchFields=function(searchFields){return this._searchFields=searchFields,this},CompleterBaseData.prototype.titleField=function(titleField){return this._titleField=titleField,this},CompleterBaseData.prototype.descriptionField=function(descriptionField){return this._descriptionField=descriptionField,this},CompleterBaseData.prototype.imageField=function(imageField){return this._imageField=imageField,this},CompleterBaseData.prototype.convertToItem=function(data){var image=null,formattedDesc=null,formattedText=this._titleField?this.extractTitle(data):data;return"string"!=typeof formattedText&&(formattedText=JSON.stringify(formattedText)),this._descriptionField&&(formattedDesc=this.extractValue(data,this._descriptionField)),this._imageField&&(image=this.extractValue(data,this._imageField)),isNil(formattedText)?null:{description:formattedDesc,image:image,originalObject:data,title:formattedText}},CompleterBaseData.prototype.extractMatches=function(data,term){var _this=this,searchFields=this._searchFields?this._searchFields.split(","):null;return null!==this._searchFields&&void 0!==this._searchFields&&""!==term?data.filter(function(item){return(searchFields?_this.extractBySearchFields(searchFields,item):[item]).some(function(value){return 0<=value.toString().toLowerCase().indexOf(term.toString().toLowerCase())})}):data},CompleterBaseData.prototype.extractTitle=function(item){var _this=this;return this._titleField?this._titleField.split(",").map(function(field){return _this.extractValue(item,field)}).reduce(function(acc,titlePart){return acc?"".concat(acc," ").concat(titlePart):titlePart}):""},CompleterBaseData.prototype.extractValue=function(obj,key){if(key)for(var result=obj,_i=0,keys_1=key.split(".");_i<keys_1.length;_i++)key=keys_1[_i],result=result&&result[key];else result=obj;return result},CompleterBaseData.prototype.processResults=function(matches){var i,results=[];if(matches&&0<matches.length)for(i=0;i<matches.length;i++){var item=this.convertToItem(matches[i]);item&&results.push(item)}return results},CompleterBaseData.prototype.extractBySearchFields=function(searchFields,item){var _this=this;return searchFields.map(function(searchField){return _this.extractValue(item,searchField)}).filter(function(value){return!!value})},CompleterBaseData}(Subject),LocalData=function(_super){function LocalData(){var _this=_super.call(this)||this;return _this.dataSourceChange=new core.EventEmitter,_this._data=[],_this.savedTerm=null,_this}return __extends(LocalData,_super),LocalData.prototype.data=function(data){var _this=this;return data instanceof Observable?data.pipe(operators.catchError(function(){return[]})).subscribe(function(res){_this._data=res,_this.savedTerm&&_this.search(_this.savedTerm),_this.dataSourceChange.emit()}):this._data=data,this.dataSourceChange.emit(),this},LocalData.prototype.search=function(term){var matches;this._data?(this.savedTerm=null,matches=this.extractMatches(this._data,term),this.next(this.processResults(matches))):this.savedTerm=term},LocalData.prototype.convertToItem=function(data){return _super.prototype.convertToItem.call(this,data)},LocalData}(Action),RemoteData=function(_super){function RemoteData(http){var _this=_super.call(this)||this;return _this.http=http,_this.dataSourceChange=new core.EventEmitter,_this._remoteUrl=null,_this.remoteSearch=null,_this._urlFormater=null,_this._dataField=null,_this}return __extends(RemoteData,_super),RemoteData.prototype.remoteUrl=function(remoteUrl){return this._remoteUrl=remoteUrl,this.dataSourceChange.emit(),this},RemoteData.prototype.urlFormater=function(urlFormater){this._urlFormater=urlFormater},RemoteData.prototype.dataField=function(dataField){this._dataField=dataField},RemoteData.prototype.requestOptions=function(requestOptions){this._requestOptions=requestOptions},RemoteData.prototype.search=function(term){var _this=this,url=(this.cancel(),""),url=this._urlFormater?this._urlFormater(term):this._remoteUrl+encodeURIComponent(term);this.remoteSearch=this.http.get(url,Object.assign({},this._requestOptions)).pipe(operators.map(function(data){data=_this.extractValue(data,_this._dataField);return _this.extractMatches(data,term)}),operators.catchError(function(){return[]})).subscribe(function(matches){matches=_this.processResults(matches);_this.next(matches)})},RemoteData.prototype.cancel=function(){this.remoteSearch&&this.remoteSearch.unsubscribe()},RemoteData.prototype.convertToItem=function(data){return _super.prototype.convertToItem.call(this,data)},RemoteData}(Action),LocalDataFactory=function(){function LocalDataFactory(){}return LocalDataFactory.prototype.create=function(){return new LocalData},LocalDataFactory.ɵfac=function(t){return new(t||LocalDataFactory)},LocalDataFactory.ɵprov=core["ɵɵdefineInjectable"]({token:LocalDataFactory,factory:LocalDataFactory.ɵfac}),LocalDataFactory}(),RemoteDataFactory=("undefined"!=typeof ngDevMode&&!ngDevMode||core["ɵsetClassMetadata"](LocalDataFactory,[{type:core.Injectable}],null,null),function(){function RemoteDataFactory(http){this.http=http}return RemoteDataFactory.prototype.create=function(){return new RemoteData(this.http)},RemoteDataFactory.ɵfac=function(t){return new(t||RemoteDataFactory)(core["ɵɵinject"](http.HttpClient))},RemoteDataFactory.ɵprov=core["ɵɵdefineInjectable"]({token:RemoteDataFactory,factory:RemoteDataFactory.ɵfac}),RemoteDataFactory}()),CompleterService=("undefined"!=typeof ngDevMode&&!ngDevMode||core["ɵsetClassMetadata"](RemoteDataFactory,[{type:core.Injectable}],function(){return[{type:http.HttpClient}]},null),function(){function CompleterService(localDataFactory,remoteDataFactory){this.localDataFactory=localDataFactory,this.remoteDataFactory=remoteDataFactory}return CompleterService.prototype.local=function(data,searchFields,titleField){return void 0===searchFields&&(searchFields=""),void 0===titleField&&(titleField=""),this.localDataFactory.create().data(data).searchFields(searchFields).titleField(titleField)},CompleterService.prototype.remote=function(url,searchFields,titleField){return void 0===searchFields&&(searchFields=""),void 0===titleField&&(titleField=""),this.remoteDataFactory.create().remoteUrl(url).searchFields(searchFields).titleField(titleField)},CompleterService.ɵfac=function(t){return new(t||CompleterService)(core["ɵɵinject"](LocalDataFactory),core["ɵɵinject"](RemoteDataFactory))},CompleterService.ɵprov=core["ɵɵdefineInjectable"]({token:CompleterService,factory:CompleterService.ɵfac}),CompleterService}()),CtrCompleter=("undefined"!=typeof ngDevMode&&!ngDevMode||core["ɵsetClassMetadata"](CompleterService,[{type:core.Injectable}],function(){return[{type:LocalDataFactory},{type:RemoteDataFactory}]},null),function(){function CtrCompleter(){this.selected=new core.EventEmitter,this.highlighted=new core.EventEmitter,this.opened=new core.EventEmitter,this.dataSourceChange=new core.EventEmitter,this.list=null,this.dropdown=null,this._hasHighlighted=!1,this._hasSelected=!1,this._cancelBlur=!1,this._isOpen=!1,this._autoHighlightIndex=null}return CtrCompleter.prototype.registerList=function(list){this.list=list},CtrCompleter.prototype.registerDropdown=function(dropdown){this.dropdown=dropdown},CtrCompleter.prototype.onHighlighted=function(item){this.highlighted.emit(item),this._hasHighlighted=!!item},CtrCompleter.prototype.onSelected=function(item,clearList){void 0===clearList&&(clearList=!0),this.selected.emit(item),item&&(this._hasSelected=!0),clearList&&this.clear()},CtrCompleter.prototype.onDataSourceChange=function(){this.hasSelected&&(this.selected.emit(null),this._hasSelected=!1),this.dataSourceChange.emit()},CtrCompleter.prototype.search=function(term){this._hasSelected&&(this.selected.emit(null),this._hasSelected=!1),this.list&&this.list.search(term)},CtrCompleter.prototype.clear=function(){this._hasHighlighted=!1,this.isOpen=!1,this.dropdown&&this.dropdown.clear(),this.list&&this.list.clear()},CtrCompleter.prototype.selectCurrent=function(){this.dropdown&&this.dropdown.selectCurrent()},CtrCompleter.prototype.nextRow=function(){this.dropdown&&this.dropdown.nextRow()},CtrCompleter.prototype.prevRow=function(){this.dropdown&&this.dropdown.prevRow()},CtrCompleter.prototype.hasHighlighted=function(){return this._hasHighlighted},CtrCompleter.prototype.cancelBlur=function(cancel){this._cancelBlur=cancel},CtrCompleter.prototype.isCancelBlur=function(){return this._cancelBlur},CtrCompleter.prototype.open=function(){!this._isOpen&&this.list&&(this.isOpen=!0,this.list.open())},Object.defineProperty(CtrCompleter.prototype,"isOpen",{get:function(){return this._isOpen},set:function(open){this._isOpen=open,this.opened.emit(this._isOpen),this.list&&this.list.isOpen(open)},enumerable:!1,configurable:!0}),Object.defineProperty(CtrCompleter.prototype,"autoHighlightIndex",{get:function(){return this._autoHighlightIndex},set:function(index){this._autoHighlightIndex=index,this.dropdown&&this.dropdown.highlightRow(this._autoHighlightIndex)},enumerable:!1,configurable:!0}),Object.defineProperty(CtrCompleter.prototype,"hasSelected",{get:function(){return this._hasSelected},enumerable:!1,configurable:!0}),CtrCompleter.ɵfac=function(t){return new(t||CtrCompleter)},CtrCompleter.ɵdir=core["ɵɵdefineDirective"]({type:CtrCompleter,selectors:[["","ctrCompleter",""]],outputs:{selected:"selected",highlighted:"highlighted",opened:"opened",dataSourceChange:"dataSourceChange"}}),CtrCompleter}()),CtrRowItem=("undefined"!=typeof ngDevMode&&!ngDevMode||core["ɵsetClassMetadata"](CtrCompleter,[{type:core.Directive,args:[{selector:"[ctrCompleter]"}]}],null,{selected:[{type:core.Output}],highlighted:[{type:core.Output}],opened:[{type:core.Output}],dataSourceChange:[{type:core.Output}]}),function(row,index){this.row=row,this.index=index}),CtrDropdown=function(){function CtrDropdown(completer,el,zone){this.completer=completer,this.el=el,this.zone=zone,this.rows=[],this.isScrollOn=!1,this._rowMouseDown=!1,this.completer.registerDropdown(this)}return CtrDropdown.prototype.ngOnDestroy=function(){this.completer.registerDropdown(null)},CtrDropdown.prototype.ngAfterViewInit=function(){var _this=this,css=getComputedStyle(this.el.nativeElement),autoHighlightIndex=this.completer.autoHighlightIndex;this.isScrollOn=!!css.maxHeight&&"auto"===css.overflowY,autoHighlightIndex&&this.zone.run(function(){_this.highlightRow(autoHighlightIndex)})},CtrDropdown.prototype.onMouseDown=function(event){var _this=this;this._rowMouseDown?this._rowMouseDown=!1:(this.completer.cancelBlur(!0),this.zone.run(function(){_this.completer.cancelBlur(!1)}))},CtrDropdown.prototype.registerRow=function(row){var arrIndex=this.rows.findIndex(function(_row){return _row.index===row.index});0<=arrIndex?this.rows[arrIndex]=row:this.rows.push(row)},CtrDropdown.prototype.unregisterRow=function(rowIndex){var arrIndex=this.rows.findIndex(function(_row){return _row.index===rowIndex});this.rows.splice(arrIndex,1),this.currHighlighted&&rowIndex===this.currHighlighted.index&&this.highlightRow(null)},CtrDropdown.prototype.highlightRow=function(index){var highlighted=this.rows.find(function(row){return row.index===index});isNil(index)||index<0?(this.currHighlighted&&this.currHighlighted.row.setHighlighted(!1),this.currHighlighted=void 0,this.completer.onHighlighted(null)):highlighted&&(this.currHighlighted&&this.currHighlighted.row.setHighlighted(!1),this.currHighlighted=highlighted,this.currHighlighted.row.setHighlighted(!0),this.completer.onHighlighted(this.currHighlighted.row.getDataItem()),this.isScrollOn)&&this.currHighlighted&&(highlighted=this.dropdownRowTop())&&(highlighted<0?this.dropdownScrollTopTo(highlighted-1):(highlighted=this.currHighlighted.row.getNativeElement(),this.dropdownHeight()<highlighted.getBoundingClientRect().bottom&&(this.dropdownScrollTopTo(this.dropdownRowOffsetHeight(highlighted)),this.el.nativeElement.getBoundingClientRect().bottom-this.dropdownRowOffsetHeight(highlighted)<highlighted.getBoundingClientRect().top)&&this.dropdownScrollTopTo(highlighted.getBoundingClientRect().top-(this.el.nativeElement.getBoundingClientRect().top+parseInt(getComputedStyle(this.el.nativeElement).paddingTop,10)))))},CtrDropdown.prototype.clear=function(){this.rows=[]},CtrDropdown.prototype.onSelected=function(item){this.completer.onSelected(item)},CtrDropdown.prototype.rowMouseDown=function(){this._rowMouseDown=!0},CtrDropdown.prototype.selectCurrent=function(){this.currHighlighted&&this.currHighlighted.row?this.onSelected(this.currHighlighted.row.getDataItem()):0<this.rows.length&&this.onSelected(this.rows[0].row.getDataItem())},CtrDropdown.prototype.nextRow=function(){var nextRowIndex=0;this.currHighlighted&&(nextRowIndex=this.currHighlighted.index+1),this.highlightRow(nextRowIndex)},CtrDropdown.prototype.prevRow=function(){var nextRowIndex=-1;this.currHighlighted&&(nextRowIndex=this.currHighlighted.index-1),this.highlightRow(nextRowIndex)},CtrDropdown.prototype.dropdownScrollTopTo=function(offset){this.el.nativeElement.scrollTop=this.el.nativeElement.scrollTop+offset},CtrDropdown.prototype.dropdownRowTop=function(){if(this.currHighlighted)return this.currHighlighted.row.getNativeElement().getBoundingClientRect().top-(this.el.nativeElement.getBoundingClientRect().top+parseInt(getComputedStyle(this.el.nativeElement).paddingTop,10))},CtrDropdown.prototype.dropdownHeight=function(){return this.el.nativeElement.getBoundingClientRect().top+parseInt(getComputedStyle(this.el.nativeElement).maxHeight,10)},CtrDropdown.prototype.dropdownRowOffsetHeight=function(row){var css=getComputedStyle(row.parentElement);return row.parentElement.offsetHeight+parseInt(css.marginTop,10)+parseInt(css.marginBottom,10)},CtrDropdown.ɵfac=function(t){return new(t||CtrDropdown)(core["ɵɵdirectiveInject"](CtrCompleter,1),core["ɵɵdirectiveInject"](core.ElementRef),core["ɵɵdirectiveInject"](core.NgZone))},CtrDropdown.ɵdir=core["ɵɵdefineDirective"]({type:CtrDropdown,selectors:[["","ctrDropdown",""]],hostBindings:function(rf,ctx){1&rf&&core["ɵɵlistener"]("mousedown",function($event){return ctx.onMouseDown($event)})}}),CtrDropdown}(),CtrInput=("undefined"!=typeof ngDevMode&&!ngDevMode||core["ɵsetClassMetadata"](CtrDropdown,[{type:core.Directive,args:[{selector:"[ctrDropdown]"}]}],function(){return[{type:CtrCompleter,decorators:[{type:core.Host}]},{type:core.ElementRef},{type:core.NgZone}]},{onMouseDown:[{type:core.HostListener,args:["mousedown",["$event"]]}]}),function(){function CtrInput(completer,ngModel,el){var _this=this;this.completer=completer,this.ngModel=ngModel,this.el=el,this.clearSelected=!1,this.clearUnselected=!1,this.overrideSuggested=!1,this.fillHighlighted=!0,this.openOnFocus=!1,this.openOnClick=!1,this.selectOnClick=!1,this.selectOnFocus=!1,this.ngModelChange=new core.EventEmitter,this._searchStr="",this._displayStr="",this.blurTimer=null,this.completer.selected.subscribe(function(item){item&&(_this.clearSelected?_this.searchStr="":_this.searchStr=item.title,_this.ngModelChange.emit(_this.searchStr))}),this.completer.highlighted.subscribe(function(item){_this.fillHighlighted&&(item?(_this._displayStr=item.title,_this.ngModelChange.emit(item.title)):(_this._displayStr=_this.searchStr,_this.ngModelChange.emit(_this.searchStr)))}),this.completer.dataSourceChange.subscribe(function(){_this.completer.search(_this.searchStr)}),this.ngModel.valueChanges&&this.ngModel.valueChanges.subscribe(function(value){isNil(value)||_this._displayStr===value||(_this.searchStr!==value&&_this.completer.search(value),_this.searchStr=value)})}return CtrInput.prototype.keyupHandler=function(event){37!==event.keyCode&&39!==event.keyCode&&9!==event.keyCode&&(38===event.keyCode||13===event.keyCode?event.preventDefault():40===event.keyCode?(event.preventDefault(),this.completer.search(this.searchStr)):27===event.keyCode&&this.completer.isOpen&&(this.restoreSearchValue(),this.completer.clear(),event.stopPropagation(),event.preventDefault()))},CtrInput.prototype.pasteHandler=function(event){this.completer.open()},CtrInput.prototype.keydownHandler=function(event){var keyCode=event.keyCode||event.which;13===keyCode?(this.completer.hasHighlighted()&&event.preventDefault(),this.handleSelection()):40===keyCode?(event.preventDefault(),this.completer.open(),this.completer.nextRow()):38===keyCode?(event.preventDefault(),this.completer.prevRow()):9===keyCode?this.handleSelection():8===keyCode?this.completer.open():27===keyCode?(event.preventDefault(),this.completer.isOpen&&event.stopPropagation()):0===keyCode||16===keyCode||20===keyCode||!(keyCode<=112||123<=keyCode)||event.ctrlKey||event.metaKey||event.altKey||this.completer.open()},CtrInput.prototype.onBlur=function(event){var _this=this;this.completer.isCancelBlur()?setTimeout(function(){_this.el.nativeElement.focus()},0):this.completer.isOpen&&(this.blurTimer=timer(200).pipe(operators.take(1)).subscribe(function(){return _this.doBlur()}))},CtrInput.prototype.onfocus=function(){this.blurTimer&&(this.blurTimer.unsubscribe(),this.blurTimer=null),this.selectOnFocus&&this.el.nativeElement.select(),this.openOnFocus&&this.completer.open()},CtrInput.prototype.onClick=function(event){this.selectOnClick&&this.el.nativeElement.select(),this.openOnClick&&(this.completer.isOpen?this.completer.clear():this.completer.open())},Object.defineProperty(CtrInput.prototype,"searchStr",{get:function(){return this._searchStr},set:function(term){this._searchStr=term,this._displayStr=term},enumerable:!1,configurable:!0}),CtrInput.prototype.handleSelection=function(){this.completer.hasHighlighted()?(this._searchStr="",this.completer.selectCurrent()):this.overrideSuggested?this.completer.onSelected({title:this.searchStr,originalObject:null}):(this.clearUnselected&&!this.completer.hasSelected&&(this.searchStr="",this.ngModelChange.emit(this.searchStr)),this.completer.clear())},CtrInput.prototype.restoreSearchValue=function(){this.fillHighlighted&&this._displayStr!==this.searchStr&&(this._displayStr=this.searchStr,this.ngModelChange.emit(this.searchStr))},CtrInput.prototype.doBlur=function(){this.blurTimer&&(this.blurTimer.unsubscribe(),this.blurTimer=null),this.overrideSuggested?this.completer.onSelected({title:this.searchStr,originalObject:null}):this.clearUnselected&&!this.completer.hasSelected?(this.searchStr="",this.ngModelChange.emit(this.searchStr)):this.restoreSearchValue(),this.completer.clear()},CtrInput.ɵfac=function(t){return new(t||CtrInput)(core["ɵɵdirectiveInject"](CtrCompleter,1),core["ɵɵdirectiveInject"](forms.NgModel),core["ɵɵdirectiveInject"](core.ElementRef))},CtrInput.ɵdir=core["ɵɵdefineDirective"]({type:CtrInput,selectors:[["","ctrInput",""]],hostBindings:function(rf,ctx){1&rf&&core["ɵɵlistener"]("keyup",function($event){return ctx.keyupHandler($event)})("paste",function($event){return ctx.pasteHandler($event)})("keydown",function($event){return ctx.keydownHandler($event)})("blur",function($event){return ctx.onBlur($event)})("focus",function(){return ctx.onfocus()})("click",function($event){return ctx.onClick($event)})},inputs:{clearSelected:"clearSelected",clearUnselected:"clearUnselected",overrideSuggested:"overrideSuggested",fillHighlighted:"fillHighlighted",openOnFocus:"openOnFocus",openOnClick:"openOnClick",selectOnClick:"selectOnClick",selectOnFocus:"selectOnFocus"},outputs:{ngModelChange:"ngModelChange"}}),CtrInput}()),CtrListContext=("undefined"!=typeof ngDevMode&&!ngDevMode||core["ɵsetClassMetadata"](CtrInput,[{type:core.Directive,args:[{selector:"[ctrInput]"}]}],function(){return[{type:CtrCompleter,decorators:[{type:core.Host}]},{type:forms.NgModel},{type:core.ElementRef}]},{clearSelected:[{type:core.Input,args:["clearSelected"]}],clearUnselected:[{type:core.Input,args:["clearUnselected"]}],overrideSuggested:[{type:core.Input,args:["overrideSuggested"]}],fillHighlighted:[{type:core.Input,args:["fillHighlighted"]}],openOnFocus:[{type:core.Input,args:["openOnFocus"]}],openOnClick:[{type:core.Input,args:["openOnClick"]}],selectOnClick:[{type:core.Input,args:["selectOnClick"]}],selectOnFocus:[{type:core.Input,args:["selectOnFocus"]}],ngModelChange:[{type:core.Output}],keyupHandler:[{type:core.HostListener,args:["keyup",["$event"]]}],pasteHandler:[{type:core.HostListener,args:["paste",["$event"]]}],keydownHandler:[{type:core.HostListener,args:["keydown",["$event"]]}],onBlur:[{type:core.HostListener,args:["blur",["$event"]]}],onfocus:[{type:core.HostListener,args:["focus",[]]}],onClick:[{type:core.HostListener,args:["click",["$event"]]}]}),function(results,searching,searchInitialized,isOpen){this.results=results,this.searching=searching,this.searchInitialized=searchInitialized,this.isOpen=isOpen}),CtrList=function(){function CtrList(completer,templateRef,viewContainer,cd,zone){this.completer=completer,this.templateRef=templateRef,this.viewContainer=viewContainer,this.cd=cd,this.zone=zone,this.ctrListMinSearchLength=3,this.ctrListPause=10,this.ctrListAutoMatch=!1,this.ctrListAutoHighlight=!1,this.ctrListDisplaySearching=!0,this._dataService=null,this.term=null,this.searchTimer=null,this.clearTimer=null,this.ctx=new CtrListContext([],!1,!1,!1),this._initialValue=null,this.viewRef=null}return CtrList.prototype.ngOnInit=function(){this.completer.registerList(this),this.viewRef=this.viewContainer.createEmbeddedView(this.templateRef,new CtrListContext([],!1,!1,!1))},Object.defineProperty(CtrList.prototype,"dataService",{set:function(newService){this._dataService=newService,this.dataServiceSubscribe()},enumerable:!1,configurable:!0}),Object.defineProperty(CtrList.prototype,"initialValue",{set:function(value){var _this=this;this._dataService&&"function"==typeof this._dataService.convertToItem?this.zone.run(function(){var initialItem=_this._dataService&&_this._dataService.convertToItem(value);initialItem&&_this.completer.onSelected(initialItem,!1)}):this._dataService||(this._initialValue=value)},enumerable:!1,configurable:!0}),CtrList.prototype.search=function(term){var _this=this;!isNil(term)&&term.length>=this.ctrListMinSearchLength&&this.term!==term?(this.searchTimer&&(this.searchTimer.unsubscribe(),this.searchTimer=null),this.ctx.searching||(this.ctrListDisplaySearching&&(this.ctx.results=[]),this.ctx.searching=!0,this.ctx.searchInitialized=!0,this.refreshTemplate()),this.clearTimer&&this.clearTimer.unsubscribe(),this.searchTimer=timer(this.ctrListPause).pipe(operators.take(1)).subscribe(function(){_this.searchTimerComplete(term)})):!isNil(term)&&term.length<this.ctrListMinSearchLength&&(this.clear(),this.term="")},CtrList.prototype.clear=function(){var _this=this;this.searchTimer&&this.searchTimer.unsubscribe(),this.clearTimer=timer(50).pipe(operators.take(1)).subscribe(function(){_this._clear()})},CtrList.prototype.open=function(){this.ctx.searchInitialized||this.search(""),this.refreshTemplate()},CtrList.prototype.isOpen=function(open){this.ctx.isOpen=open},CtrList.prototype._clear=function(){this.searchTimer&&(this.searchTimer.unsubscribe(),this.searchTimer=null),this.dataService&&this.dataService.cancel(),this.viewContainer.clear(),this.viewRef=null},CtrList.prototype.searchTimerComplete=function(term){isNil(term)||term.length<this.ctrListMinSearchLength?this.ctx.searching=!1:(this.term=term,this._dataService&&this._dataService.search(term))},CtrList.prototype.refreshTemplate=function(){this.viewRef?this.viewRef.destroyed||(this.viewRef.context.isOpen=this.ctx.isOpen,this.viewRef.context.results=this.ctx.results,this.viewRef.context.searching=this.ctx.searching,this.viewRef.context.searchInitialized=this.ctx.searchInitialized,this.viewRef.detectChanges()):this.viewRef=this.viewContainer.createEmbeddedView(this.templateRef,this.ctx),this.cd.markForCheck()},CtrList.prototype.getBestMatchIndex=function(){var bestMatch,_this=this;return!this.ctx.results||!this.term||(bestMatch=(bestMatch=(bestMatch=this.ctx.results.findIndex(function(item){return item.title.toLowerCase()===_this.term.toLocaleLowerCase()}))<0?this.ctx.results.findIndex(function(item){return item.title.toLowerCase().startsWith(_this.term.toLocaleLowerCase())}):bestMatch)<0?this.ctx.results.findIndex(function(item){return item.title.toLowerCase().includes(_this.term.toLocaleLowerCase())}):bestMatch)<0?null:bestMatch},CtrList.prototype.dataServiceSubscribe=function(){var _this=this;this._dataService&&(this._dataService.subscribe(function(results){_this.ctx.searchInitialized=!0,_this.ctx.searching=!1,_this.ctx.results=results,_this.ctrListAutoMatch&&results&&1===results.length&&results[0].title&&!isNil(_this.term)&&results[0].title.toLocaleLowerCase()===_this.term.toLocaleLowerCase()?_this.completer.onSelected(results[0]):(_this.refreshTemplate(),_this.ctrListAutoHighlight&&(_this.completer.autoHighlightIndex=_this.getBestMatchIndex()))},function(error){return console.error(error),console.error("Unexpected error in dataService: errors should be handled by the dataService Observable"),[]}),this._dataService.dataSourceChange)&&this._dataService.dataSourceChange.subscribe(function(){_this.term=null,_this.ctx.searchInitialized=!1,_this.ctx.searching=!1,_this.ctx.results=[],_this.refreshTemplate(),_this.completer.onDataSourceChange()})},CtrList.ɵfac=function(t){return new(t||CtrList)(core["ɵɵdirectiveInject"](CtrCompleter,1),core["ɵɵdirectiveInject"](core.TemplateRef),core["ɵɵdirectiveInject"](core.ViewContainerRef),core["ɵɵdirectiveInject"](core.ChangeDetectorRef),core["ɵɵdirectiveInject"](core.NgZone))},CtrList.ɵdir=core["ɵɵdefineDirective"]({type:CtrList,selectors:[["","ctrList",""]],inputs:{ctrListMinSearchLength:"ctrListMinSearchLength",ctrListPause:"ctrListPause",ctrListAutoMatch:"ctrListAutoMatch",ctrListAutoHighlight:"ctrListAutoHighlight",ctrListDisplaySearching:"ctrListDisplaySearching",dataService:["ctrList","dataService"],initialValue:["ctrListInitialValue","initialValue"]}}),CtrList}(),CtrRow=("undefined"!=typeof ngDevMode&&!ngDevMode||core["ɵsetClassMetadata"](CtrList,[{type:core.Directive,args:[{selector:"[ctrList]"}]}],function(){return[{type:CtrCompleter,decorators:[{type:core.Host}]},{type:core.TemplateRef},{type:core.ViewContainerRef},{type:core.ChangeDetectorRef},{type:core.NgZone}]},{ctrListMinSearchLength:[{type:core.Input}],ctrListPause:[{type:core.Input}],ctrListAutoMatch:[{type:core.Input}],ctrListAutoHighlight:[{type:core.Input}],ctrListDisplaySearching:[{type:core.Input}],dataService:[{type:core.Input,args:["ctrList"]}],initialValue:[{type:core.Input,args:["ctrListInitialValue"]}]}),function(){function CtrRow(el,renderer,dropdown){this.el=el,this.renderer=renderer,this.dropdown=dropdown,this.selected=!1,this._rowIndex=0,this._item=null}return CtrRow.prototype.ngOnDestroy=function(){this._rowIndex&&this.dropdown.unregisterRow(this._rowIndex)},Object.defineProperty(CtrRow.prototype,"ctrRow",{set:function(index){this._rowIndex=index,this.dropdown.registerRow(new CtrRowItem(this,this._rowIndex))},enumerable:!1,configurable:!0}),Object.defineProperty(CtrRow.prototype,"dataItem",{set:function(item){this._item=item},enumerable:!1,configurable:!0}),CtrRow.prototype.onClick=function(event){this.dropdown.onSelected(this._item)},CtrRow.prototype.onMouseEnter=function(event){this.dropdown.highlightRow(this._rowIndex)},CtrRow.prototype.onMouseDown=function(event){this.dropdown.rowMouseDown()},CtrRow.prototype.setHighlighted=function(selected){this.selected=selected,this.selected?this.renderer.addClass(this.el.nativeElement,"completer-selected-row"):this.renderer.removeClass(this.el.nativeElement,"completer-selected-row")},CtrRow.prototype.getNativeElement=function(){return this.el.nativeElement},CtrRow.prototype.getDataItem=function(){return this._item},CtrRow.ɵfac=function(t){return new(t||CtrRow)(core["ɵɵdirectiveInject"](core.ElementRef),core["ɵɵdirectiveInject"](core.Renderer2),core["ɵɵdirectiveInject"](CtrDropdown,1))},CtrRow.ɵdir=core["ɵɵdefineDirective"]({type:CtrRow,selectors:[["","ctrRow",""]],hostBindings:function(rf,ctx){1&rf&&core["ɵɵlistener"]("click",function($event){return ctx.onClick($event)})("mouseenter",function($event){return ctx.onMouseEnter($event)})("mousedown",function($event){return ctx.onMouseDown($event)})},inputs:{ctrRow:"ctrRow",dataItem:"dataItem"}}),CtrRow}());function CompleterListItemCmp_span_1_Template(rf,ctx){1&rf&&(core["ɵɵelementStart"](0,"span",2),core["ɵɵtext"](1),core["ɵɵelementEnd"]()),2&rf&&(rf=ctx.$implicit,ctx=core["ɵɵnextContext"](),core["ɵɵproperty"]("ngClass",rf.isMatch?ctx.matchClass:null),core["ɵɵadvance"](1),core["ɵɵtextInterpolate"](rf.text))}"undefined"!=typeof ngDevMode&&!ngDevMode||core["ɵsetClassMetadata"](CtrRow,[{type:core.Directive,args:[{selector:"[ctrRow]"}]}],function(){return[{type:core.ElementRef},{type:core.Renderer2},{type:CtrDropdown,decorators:[{type:core.Host}]}]},{ctrRow:[{type:core.Input}],dataItem:[{type:core.Input}],onClick:[{type:core.HostListener,args:["click",["$event"]]}],onMouseEnter:[{type:core.HostListener,args:["mouseenter",["$event"]]}],onMouseDown:[{type:core.HostListener,args:["mousedown",["$event"]]}]});function _c0(a0,a1){return{"completer-title":a0,"completer-description":a1}}var CompleterListItemCmp=function(){function CompleterListItemCmp(){this.text="",this.searchStr="",this.matchClass="",this.type="",this.parts=[]}return CompleterListItemCmp.prototype.ngOnInit=function(){if(this.searchStr){for(var matchStr=this.text.toLowerCase(),matchPos=matchStr.indexOf(this.searchStr.toLowerCase()),startIndex=0;0<=matchPos;){var matchPart,matchText=this.text.slice(matchPos,matchPos+this.searchStr.length);0===matchPos?(this.parts.push({isMatch:!0,text:matchText}),startIndex+=this.searchStr.length):0<matchPos&&(matchPart=this.text.slice(startIndex,matchPos),this.parts.push({isMatch:!1,text:matchPart}),this.parts.push({isMatch:!0,text:matchText}),startIndex+=this.searchStr.length+matchPart.length),matchPos=matchStr.indexOf(this.searchStr.toLowerCase(),startIndex)}startIndex<this.text.length&&this.parts.push({isMatch:!1,text:this.text.slice(startIndex,this.text.length)})}else this.parts.push({isMatch:!1,text:this.text})},CompleterListItemCmp.ɵfac=function(t){return new(t||CompleterListItemCmp)},CompleterListItemCmp.ɵcmp=core["ɵɵdefineComponent"]({type:CompleterListItemCmp,selectors:[["completer-list-item"]],inputs:{text:"text",searchStr:"searchStr",matchClass:"matchClass",type:"type"},decls:2,vars:5,consts:[[1,"completer-list-item-holder",3,"ngClass"],["class","completer-list-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"completer-list-item",3,"ngClass"]],template:function(rf,ctx){1&rf&&(core["ɵɵelementStart"](0,"span",0),core["ɵɵtemplate"](1,CompleterListItemCmp_span_1_Template,2,2,"span",1),core["ɵɵelementEnd"]()),2&rf&&(core["ɵɵproperty"]("ngClass",core["ɵɵpureFunction2"](2,_c0,"title"===ctx.type,"description"===ctx.type)),core["ɵɵadvance"](1),core["ɵɵproperty"]("ngForOf",ctx.parts))},dependencies:[common.NgClass,common.NgForOf],encapsulation:2}),CompleterListItemCmp}(),_c0$1=("undefined"!=typeof ngDevMode&&!ngDevMode||core["ɵsetClassMetadata"](CompleterListItemCmp,[{type:core.Component,args:[{selector:"completer-list-item",template:'<span class="completer-list-item-holder" [ngClass]= "{\'completer-title\': type === \'title\', \'completer-description\': type === \'description\'}" >\n        <span class="completer-list-item" *ngFor="let part of parts" [ngClass]= "part.isMatch ? matchClass : null">{{part.text}}</span>\n    </span>'}]}],null,{text:[{type:core.Input}],searchStr:[{type:core.Input}],matchClass:[{type:core.Input}],type:[{type:core.Input}]}),["ctrInput"]);function CompleterCmp_div_3_div_1_div_1_Template(rf,ctx){1&rf&&(core["ɵɵelementStart"](0,"div",10),core["ɵɵtext"](1),core["ɵɵelementEnd"]()),2&rf&&(rf=core["ɵɵnextContext"](3),core["ɵɵadvance"](1),core["ɵɵtextInterpolate"](rf._textSearching))}function CompleterCmp_div_3_div_1_div_2_Template(rf,ctx){1&rf&&(core["ɵɵelementStart"](0,"div",11),core["ɵɵtext"](1),core["ɵɵelementEnd"]()),2&rf&&(rf=core["ɵɵnextContext"](3),core["ɵɵadvance"](1),core["ɵɵtextInterpolate"](rf._textNoResults))}function CompleterCmp_div_3_div_1_div_3_div_2_img_1_Template(rf,ctx){1&rf&&core["ɵɵelement"](0,"img",21),2&rf&&(rf=core["ɵɵnextContext"](2).$implicit,core["ɵɵpropertyInterpolate"]("src",rf.image,core["ɵɵsanitizeUrl"]))}function CompleterCmp_div_3_div_1_div_3_div_2_div_2_Template(rf,ctx){1&rf&&core["ɵɵelement"](0,"div",22)}function CompleterCmp_div_3_div_1_div_3_div_2_Template(rf,ctx){1&rf&&(core["ɵɵelementStart"](0,"div",18),core["ɵɵtemplate"](1,CompleterCmp_div_3_div_1_div_3_div_2_img_1_Template,1,1,"img",19),core["ɵɵtemplate"](2,CompleterCmp_div_3_div_1_div_3_div_2_div_2_Template,1,0,"div",20),core["ɵɵelementEnd"]()),2&rf&&(rf=core["ɵɵnextContext"]().$implicit,core["ɵɵadvance"](1),core["ɵɵproperty"]("ngIf",""!=rf.image),core["ɵɵadvance"](1),core["ɵɵproperty"]("ngIf",""===rf.image))}function CompleterCmp_div_3_div_1_div_3_completer_list_item_5_Template(rf,ctx){var ctx_r13;1&rf&&core["ɵɵelement"](0,"completer-list-item",23),2&rf&&(rf=core["ɵɵnextContext"]().$implicit,ctx_r13=core["ɵɵnextContext"](3),core["ɵɵproperty"]("text",rf.description)("matchClass",ctx_r13.matchClass)("searchStr",ctx_r13.searchStr)("type","description"))}function _c1(a0){return{"completer-item-text-image":a0}}function CompleterCmp_div_3_div_1_div_3_Template(rf,ctx){var ctx_r9;1&rf&&(core["ɵɵelementStart"](0,"div",12)(1,"div",13),core["ɵɵtemplate"](2,CompleterCmp_div_3_div_1_div_3_div_2_Template,3,2,"div",14),core["ɵɵelementStart"](3,"div",15),core["ɵɵelement"](4,"completer-list-item",16),core["ɵɵtemplate"](5,CompleterCmp_div_3_div_1_div_3_completer_list_item_5_Template,1,4,"completer-list-item",17),core["ɵɵelementEnd"]()()()),2&rf&&(rf=ctx.$implicit,ctx=ctx.index,ctx_r9=core["ɵɵnextContext"](3),core["ɵɵadvance"](1),core["ɵɵproperty"]("ctrRow",ctx)("dataItem",rf),core["ɵɵadvance"](1),core["ɵɵproperty"]("ngIf",rf.image||""===rf.image),core["ɵɵadvance"](1),core["ɵɵproperty"]("ngClass",core["ɵɵpureFunction1"](9,_c1,rf.image||""===rf.image)),core["ɵɵadvance"](1),core["ɵɵproperty"]("text",rf.title)("matchClass",ctx_r9.matchClass)("searchStr",ctx_r9.searchStr)("type","title"),core["ɵɵadvance"](1),core["ɵɵproperty"]("ngIf",rf.description&&""!=rf.description))}function CompleterCmp_div_3_div_1_Template(rf,ctx){var searchActive_r3,ctx_r6;1&rf&&(core["ɵɵelementStart"](0,"div",6),core["ɵɵtemplate"](1,CompleterCmp_div_3_div_1_div_1_Template,2,1,"div",7),core["ɵɵtemplate"](2,CompleterCmp_div_3_div_1_div_2_Template,2,1,"div",8),core["ɵɵtemplate"](3,CompleterCmp_div_3_div_1_div_3_Template,6,11,"div",9),core["ɵɵelementEnd"]()),2&rf&&(searchActive_r3=(rf=core["ɵɵnextContext"]()).searching,rf=rf.results,ctx_r6=core["ɵɵnextContext"](),core["ɵɵadvance"](1),core["ɵɵproperty"]("ngIf",searchActive_r3&&ctx_r6.displaySearching),core["ɵɵadvance"](1),core["ɵɵproperty"]("ngIf",!(searchActive_r3||rf&&0!==(null==rf?null:rf.length))),core["ɵɵadvance"](1),core["ɵɵproperty"]("ngForOf",rf))}function CompleterCmp_div_3_Template(rf,ctx){var searchActive_r3,isInitialized_r4,ctx_r1;1&rf&&(core["ɵɵelementStart"](0,"div",4),core["ɵɵtemplate"](1,CompleterCmp_div_3_div_1_Template,4,3,"div",5),core["ɵɵelementEnd"]()),2&rf&&(rf=ctx.results,searchActive_r3=ctx.searching,isInitialized_r4=ctx.searchInitialized,ctx=ctx.isOpen,ctx_r1=core["ɵɵnextContext"](),core["ɵɵadvance"](1),core["ɵɵproperty"]("ngIf",isInitialized_r4&&ctx&&(0<(null==rf?null:rf.length)||ctx_r1.displayNoResults&&!searchActive_r3||searchActive_r3&&ctx_r1.displaySearching)))}function noop$1(){}var COMPLETER_CONTROL_VALUE_ACCESSOR={multi:!0,provide:forms.NG_VALUE_ACCESSOR,useExisting:core.forwardRef(function(){return CompleterCmp})},CompleterCmp=function(){function CompleterCmp(completerService,cdr){this.completerService=completerService,this.cdr=cdr,this.inputName="",this.inputId="",this.pause=10,this.minSearchLength=3,this.maxChars=524288,this.overrideSuggested=!1,this.clearSelected=!1,this.clearUnselected=!1,this.fillHighlighted=!0,this.placeholder="",this.autoMatch=!1,this.disableInput=!1,this.autofocus=!1,this.openOnFocus=!1,this.openOnClick=!1,this.selectOnClick=!1,this.selectOnFocus=!1,this.autoHighlight=!1,this.selected=new core.EventEmitter,this.highlighted=new core.EventEmitter,this.blurEvent=new core.EventEmitter,this.click=new core.EventEmitter,this.focusEvent=new core.EventEmitter,this.opened=new core.EventEmitter,this.keyup=new core.EventEmitter,this.keydown=new core.EventEmitter,this.control=new forms.FormControl(""),this.displaySearching=!0,this.displayNoResults=!0,this._textNoResults="No results found",this._textSearching="Searching...",this._onTouchedCallback=noop$1,this._onChangeCallback=noop$1,this._focus=!1,this._open=!1,this._searchStr=""}return Object.defineProperty(CompleterCmp.prototype,"value",{get:function(){return this.searchStr},set:function(v){v!==this.searchStr&&(this.searchStr=v),this._onChangeCallback(v)},enumerable:!1,configurable:!0}),Object.defineProperty(CompleterCmp.prototype,"searchStr",{get:function(){return this._searchStr},set:function(value){"string"==typeof value||isNil(value)?this._searchStr=value:this._searchStr=JSON.stringify(value)},enumerable:!1,configurable:!0}),CompleterCmp.prototype.ngAfterViewInit=function(){var _this=this;this.autofocus&&(this._focus=!0),this.completer&&(this.completer.selected.subscribe(function(item){_this.selected.emit(item)}),this.completer.highlighted.subscribe(function(item){_this.highlighted.emit(item)}),this.completer.opened.subscribe(function(isOpen){_this._open=isOpen,_this.opened.emit(isOpen)}))},CompleterCmp.prototype.ngAfterViewChecked=function(){var _this=this;this._focus&&setTimeout(function(){_this.ctrInput&&(_this.ctrInput.nativeElement.focus(),_this._focus=!1)},0)},CompleterCmp.prototype.onTouched=function(){this._onTouchedCallback()},CompleterCmp.prototype.writeValue=function(value){this.searchStr=value},CompleterCmp.prototype.registerOnChange=function(fn){this._onChangeCallback=fn},CompleterCmp.prototype.registerOnTouched=function(fn){this._onTouchedCallback=fn},CompleterCmp.prototype.setDisabledState=function(isDisabled){this.disableInput=isDisabled},Object.defineProperty(CompleterCmp.prototype,"datasource",{set:function(source){source&&(source instanceof Array?this.dataService=this.completerService.local(source):this.dataService="string"==typeof source?this.completerService.remote(source):source)},enumerable:!1,configurable:!0}),Object.defineProperty(CompleterCmp.prototype,"textNoResults",{set:function(text){this._textNoResults!==text&&(this._textNoResults=text,this.displayNoResults=!!this._textNoResults&&"false"!==this._textNoResults)},enumerable:!1,configurable:!0}),Object.defineProperty(CompleterCmp.prototype,"textSearching",{set:function(text){this._textSearching!==text&&(this._textSearching=text,this.displaySearching=!!this._textSearching&&"false"!==this._textSearching)},enumerable:!1,configurable:!0}),CompleterCmp.prototype.onBlur=function(){this.blurEvent.emit(),this.onTouched(),this.cdr.detectChanges()},CompleterCmp.prototype.onFocus=function(){this.focusEvent.emit(),this.onTouched()},CompleterCmp.prototype.onClick=function(event){this.click.emit(event),this.onTouched()},CompleterCmp.prototype.onKeyup=function(event){this.keyup.emit(event),event.stopPropagation()},CompleterCmp.prototype.onKeydown=function(event){this.keydown.emit(event),event.stopPropagation()},CompleterCmp.prototype.onChange=function(value){this.value=value},CompleterCmp.prototype.open=function(){this.completer&&this.completer.open()},CompleterCmp.prototype.close=function(){this.completer&&this.completer.clear()},CompleterCmp.prototype.focus=function(){this.ctrInput?this.ctrInput.nativeElement.focus():this._focus=!0},CompleterCmp.prototype.blur=function(){this.ctrInput?this.ctrInput.nativeElement.blur():this._focus=!1},CompleterCmp.prototype.isOpen=function(){return this._open},CompleterCmp.ɵfac=function(t){return new(t||CompleterCmp)(core["ɵɵdirectiveInject"](CompleterService),core["ɵɵdirectiveInject"](core.ChangeDetectorRef))},CompleterCmp.ɵcmp=core["ɵɵdefineComponent"]({type:CompleterCmp,selectors:[["ng2-completer"]],viewQuery:function(rf,ctx){1&rf&&(core["ɵɵviewQuery"](CtrCompleter,5),core["ɵɵviewQuery"](_c0$1,5)),2&rf&&(rf=void 0,core["ɵɵqueryRefresh"](rf=core["ɵɵloadQuery"]())&&(ctx.completer=rf.first),core["ɵɵqueryRefresh"](rf=core["ɵɵloadQuery"]()))&&(ctx.ctrInput=rf.first)},inputs:{dataService:"dataService",inputName:"inputName",inputId:"inputId",pause:"pause",minSearchLength:"minSearchLength",maxChars:"maxChars",overrideSuggested:"overrideSuggested",clearSelected:"clearSelected",clearUnselected:"clearUnselected",fillHighlighted:"fillHighlighted",placeholder:"placeholder",matchClass:"matchClass",fieldTabindex:"fieldTabindex",autoMatch:"autoMatch",disableInput:"disableInput",inputClass:"inputClass",autofocus:"autofocus",openOnFocus:"openOnFocus",openOnClick:"openOnClick",selectOnClick:"selectOnClick",selectOnFocus:"selectOnFocus",initialValue:"initialValue",autoHighlight:"autoHighlight",datasource:"datasource",textNoResults:"textNoResults",textSearching:"textSearching"},outputs:{selected:"selected",highlighted:"highlighted",blurEvent:"blur",click:"click",focusEvent:"focus",opened:"opened",keyup:"keyup",keydown:"keydown"},features:[core["ɵɵProvidersFeature"]([COMPLETER_CONTROL_VALUE_ACCESSOR])],decls:4,vars:23,consts:[["ctrCompleter","",1,"completer-holder"],["type","search","ctrInput","","autocomplete","off","autocorrect","off","autocapitalize","off",1,"completer-input",3,"ngClass","ngModel","placeholder","tabindex","disabled","clearSelected","clearUnselected","overrideSuggested","openOnFocus","fillHighlighted","openOnClick","selectOnClick","selectOnFocus","ngModelChange","blur","focus","keyup","keydown","click"],["ctrInput",""],["class","completer-dropdown-holder",4,"ctrList","ctrListMinSearchLength","ctrListPause","ctrListAutoMatch","ctrListInitialValue","ctrListAutoHighlight","ctrListDisplaySearching"],[1,"completer-dropdown-holder"],["class","completer-dropdown","ctrDropdown","",4,"ngIf"],["ctrDropdown","",1,"completer-dropdown"],["class","completer-searching",4,"ngIf"],["class","completer-no-results",4,"ngIf"],["class","completer-row-wrapper",4,"ngFor","ngForOf"],[1,"completer-searching"],[1,"completer-no-results"],[1,"completer-row-wrapper"],[1,"completer-row",3,"ctrRow","dataItem"],["class","completer-image-holder",4,"ngIf"],[1,"completer-item-text",3,"ngClass"],[1,"completer-title",3,"text","matchClass","searchStr","type"],["class","completer-description",3,"text","matchClass","searchStr","type",4,"ngIf"],[1,"completer-image-holder"],["class","completer-image",3,"src",4,"ngIf"],["class","completer-image-default",4,"ngIf"],[1,"completer-image",3,"src"],[1,"completer-image-default"],[1,"completer-description",3,"text","matchClass","searchStr","type"]],template:function(rf,ctx){1&rf&&(core["ɵɵelementStart"](0,"div",0)(1,"input",1,2),core["ɵɵlistener"]("ngModelChange",function($event){return ctx.searchStr=$event})("ngModelChange",function($event){return ctx.onChange($event)})("blur",function(){return ctx.onBlur()})("focus",function(){return ctx.onFocus()})("keyup",function($event){return ctx.onKeyup($event)})("keydown",function($event){return ctx.onKeydown($event)})("click",function($event){return ctx.onClick($event)}),core["ɵɵelementEnd"](),core["ɵɵtemplate"](3,CompleterCmp_div_3_Template,2,1,"div",3),core["ɵɵelementEnd"]()),2&rf&&(core["ɵɵadvance"](1),core["ɵɵproperty"]("ngClass",ctx.inputClass)("ngModel",ctx.searchStr)("placeholder",ctx.placeholder)("tabindex",ctx.fieldTabindex)("disabled",ctx.disableInput)("clearSelected",ctx.clearSelected)("clearUnselected",ctx.clearUnselected)("overrideSuggested",ctx.overrideSuggested)("openOnFocus",ctx.openOnFocus)("fillHighlighted",ctx.fillHighlighted)("openOnClick",ctx.openOnClick)("selectOnClick",ctx.selectOnClick)("selectOnFocus",ctx.selectOnFocus),core["ɵɵattribute"]("id",0<ctx.inputId.length?ctx.inputId:null)("name",ctx.inputName)("maxlength",ctx.maxChars),core["ɵɵadvance"](2),core["ɵɵproperty"]("ctrList",ctx.dataService)("ctrListMinSearchLength",ctx.minSearchLength)("ctrListPause",ctx.pause)("ctrListAutoMatch",ctx.autoMatch)("ctrListInitialValue",ctx.initialValue)("ctrListAutoHighlight",ctx.autoHighlight)("ctrListDisplaySearching",ctx.displaySearching))},dependencies:[common.NgClass,common.NgForOf,common.NgIf,forms.DefaultValueAccessor,forms.NgControlStatus,forms.NgModel,CompleterListItemCmp,CtrCompleter,CtrDropdown,CtrInput,CtrList,CtrRow],styles:['.completer-dropdown[_ngcontent-%COMP%] {\n        border-color: #ececec;\n        border-width: 1px;\n        border-style: solid;\n        border-radius: 2px;\n        width: 250px;\n        padding: 6px;\n        cursor: pointer;\n        z-index: 9999;\n        position: absolute;\n        margin-top: -6px;\n        background-color: #ffffff;\n    }\n\n    .completer-row[_ngcontent-%COMP%] {\n        padding: 5px;\n        color: #000000;\n        margin-bottom: 4px;\n        clear: both;\n        display: inline-block;\n        width: 103%;\n    }\n\n    .completer-selected-row[_ngcontent-%COMP%] {\n        background-color: lightblue;\n        color: #ffffff;\n    }\n\n    .completer-description[_ngcontent-%COMP%] {\n        font-size: 14px;\n    }\n\n    .completer-image-default[_ngcontent-%COMP%] {\n        width: 16px;\n        height: 16px;\n        background-image: url("demo/res/img/default.png");\n    }\n\n    .completer-image-holder[_ngcontent-%COMP%] {\n        float: left;\n        width: 10%;\n    }\n    .completer-item-text-image[_ngcontent-%COMP%] {\n        float: right;\n        width: 90%;\n    }']}),CompleterCmp}(),providers=("undefined"!=typeof ngDevMode&&!ngDevMode||core["ɵsetClassMetadata"](CompleterCmp,[{type:core.Component,args:[{selector:"ng2-completer",template:'\n        <div class="completer-holder" ctrCompleter>\n            <input #ctrInput [attr.id]="inputId.length > 0 ? inputId : null" type="search"\n                class="completer-input" ctrInput [ngClass]="inputClass"\n                [(ngModel)]="searchStr" (ngModelChange)="onChange($event)"\n                [attr.name]="inputName" [placeholder]="placeholder"\n                [attr.maxlength]="maxChars" [tabindex]="fieldTabindex" [disabled]="disableInput"\n                [clearSelected]="clearSelected" [clearUnselected]="clearUnselected"\n                [overrideSuggested]="overrideSuggested" [openOnFocus]="openOnFocus" [fillHighlighted]="fillHighlighted"\n                [openOnClick]="openOnClick" [selectOnClick]="selectOnClick" [selectOnFocus]="selectOnFocus"\n                (blur)="onBlur()" (focus)="onFocus()" (keyup)="onKeyup($event)"\n                (keydown)="onKeydown($event)" (click)="onClick($event)"\n                autocomplete="off" autocorrect="off" autocapitalize="off" />\n\n            <div class="completer-dropdown-holder"\n                *ctrList="dataService;\n                    minSearchLength: minSearchLength;\n                    pause: pause;\n                    autoMatch: autoMatch;\n                    initialValue: initialValue;\n                    autoHighlight: autoHighlight;\n                    displaySearching: displaySearching;\n                    let items = results;\n                    let searchActive = searching;\n                    let isInitialized = searchInitialized;\n                    let isOpen = isOpen;">\n                <div class="completer-dropdown" ctrDropdown\n                    *ngIf="isInitialized && isOpen && (( items?.length > 0|| (displayNoResults && !searchActive)) || (searchActive && displaySearching))">\n                    <div *ngIf="searchActive && displaySearching" class="completer-searching">{{ _textSearching }}</div>\n                    <div *ngIf="!searchActive && (!items || items?.length === 0)"\n                    class="completer-no-results">{{ _textNoResults }}</div>\n                    <div class="completer-row-wrapper" *ngFor="let item of items; let rowIndex=index">\n                        <div class="completer-row" [ctrRow]="rowIndex" [dataItem]="item">\n                            <div *ngIf="item.image || item.image === \'\'" class="completer-image-holder">\n                                <img *ngIf="item.image != \'\'" src="{{item.image}}" class="completer-image" />\n                                <div *ngIf="item.image === \'\'" class="completer-image-default"></div>\n                            </div>\n                            <div class="completer-item-text"\n                            [ngClass]="{\'completer-item-text-image\': item.image || item.image === \'\' }">\n                                <completer-list-item\n                                class="completer-title" [text]="item.title" [matchClass]="matchClass"\n                                [searchStr]="searchStr" [type]="\'title\'"></completer-list-item>\n                                <completer-list-item *ngIf="item.description && item.description != \'\'"\n                                class="completer-description" [text]="item.description"\n                                    [matchClass]="matchClass" [searchStr]="searchStr" [type]="\'description\'">\n                                </completer-list-item>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ',providers:[COMPLETER_CONTROL_VALUE_ACCESSOR],styles:['\n    .completer-dropdown {\n        border-color: #ececec;\n        border-width: 1px;\n        border-style: solid;\n        border-radius: 2px;\n        width: 250px;\n        padding: 6px;\n        cursor: pointer;\n        z-index: 9999;\n        position: absolute;\n        margin-top: -6px;\n        background-color: #ffffff;\n    }\n\n    .completer-row {\n        padding: 5px;\n        color: #000000;\n        margin-bottom: 4px;\n        clear: both;\n        display: inline-block;\n        width: 103%;\n    }\n\n    .completer-selected-row {\n        background-color: lightblue;\n        color: #ffffff;\n    }\n\n    .completer-description {\n        font-size: 14px;\n    }\n\n    .completer-image-default {\n        width: 16px;\n        height: 16px;\n        background-image: url("demo/res/img/default.png");\n    }\n\n    .completer-image-holder {\n        float: left;\n        width: 10%;\n    }\n    .completer-item-text-image {\n        float: right;\n        width: 90%;\n    }\n    ']}]}],function(){return[{type:CompleterService},{type:core.ChangeDetectorRef}]},{dataService:[{type:core.Input}],inputName:[{type:core.Input}],inputId:[{type:core.Input}],pause:[{type:core.Input}],minSearchLength:[{type:core.Input}],maxChars:[{type:core.Input}],overrideSuggested:[{type:core.Input}],clearSelected:[{type:core.Input}],clearUnselected:[{type:core.Input}],fillHighlighted:[{type:core.Input}],placeholder:[{type:core.Input}],matchClass:[{type:core.Input}],fieldTabindex:[{type:core.Input}],autoMatch:[{type:core.Input}],disableInput:[{type:core.Input}],inputClass:[{type:core.Input}],autofocus:[{type:core.Input}],openOnFocus:[{type:core.Input}],openOnClick:[{type:core.Input}],selectOnClick:[{type:core.Input}],selectOnFocus:[{type:core.Input}],initialValue:[{type:core.Input}],autoHighlight:[{type:core.Input}],selected:[{type:core.Output}],highlighted:[{type:core.Output}],blurEvent:[{type:core.Output,args:["blur"]}],click:[{type:core.Output}],focusEvent:[{type:core.Output,args:["focus"]}],opened:[{type:core.Output}],keyup:[{type:core.Output}],keydown:[{type:core.Output}],completer:[{type:core.ViewChild,args:[CtrCompleter,{static:!1}]}],ctrInput:[{type:core.ViewChild,args:["ctrInput",{static:!1}]}],datasource:[{type:core.Input}],textNoResults:[{type:core.Input}],textSearching:[{type:core.Input}]}),[CompleterService,LocalDataFactory,RemoteDataFactory]),Subject=function(){function Ng2CompleterModule(){}return Ng2CompleterModule.forRoot=function(){return{ngModule:Ng2CompleterModule,providers:providers}},Ng2CompleterModule.forChild=function(){return{ngModule:Ng2CompleterModule,providers:providers}},Ng2CompleterModule.ɵfac=function(t){return new(t||Ng2CompleterModule)},Ng2CompleterModule.ɵmod=core["ɵɵdefineNgModule"]({type:Ng2CompleterModule}),Ng2CompleterModule.ɵinj=core["ɵɵdefineInjector"]({providers:providers,imports:[common.CommonModule,forms.FormsModule]}),Ng2CompleterModule}();"undefined"!=typeof ngDevMode&&!ngDevMode||core["ɵsetClassMetadata"](Subject,[{type:core.NgModule,args:[{declarations:[CompleterListItemCmp,CtrCompleter,CtrDropdown,CtrInput,CtrList,CtrRow,CompleterCmp],exports:[CompleterListItemCmp,CtrCompleter,CtrDropdown,CtrInput,CtrList,CtrRow,CompleterCmp],imports:[common.CommonModule,forms.FormsModule],providers:providers}]}],null,null),"undefined"!=typeof ngJitMode&&!ngJitMode||core["ɵɵsetNgModuleScope"](Subject,{declarations:[CompleterListItemCmp,CtrCompleter,CtrDropdown,CtrInput,CtrList,CtrRow,CompleterCmp],imports:[common.CommonModule,forms.FormsModule],exports:[CompleterListItemCmp,CtrCompleter,CtrDropdown,CtrInput,CtrList,CtrRow,CompleterCmp]}),exports.CompleterCmp=CompleterCmp,exports.CompleterListItemCmp=CompleterListItemCmp,exports.CompleterService=CompleterService,exports.CtrCompleter=CtrCompleter,exports.CtrDropdown=CtrDropdown,exports.CtrInput=CtrInput,exports.CtrList=CtrList,exports.CtrRow=CtrRow,exports.LocalData=LocalData,exports.LocalDataFactory=LocalDataFactory,exports.Ng2CompleterModule=Subject,exports.RemoteData=RemoteData,exports.RemoteDataFactory=RemoteDataFactory,Object.defineProperty(exports,"__esModule",{value:!0})});